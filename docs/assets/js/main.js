"use strict";const showsPainted=document.querySelector(".js_showlistcontainer"),searchBtn=document.querySelector(".js_searchbtn"),searchText=document.querySelector(".js_searchtext"),favoriteShowsPainted=document.querySelector(".js_favoriteshowscontainer");let showsList=[],showsImages=[],showsTitles=[],showsId=[],listenedItem=[],favoriteShows=[],favoriteShowsImages=[],favoriteShowsTitles=[],favoritesShowsId=[];function paintFavorites(){let s="";for(const e of favoriteShows)favoriteShowsImages=e.show.image,favoriteShowsImages=null===favoriteShowsImages?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":e.show.image.medium,favoriteShowsTitles=e.show.name,favoritesShowsId=e.show.id,s+=`<li class="favorite_container"   id="${favoritesShowsId}">`,s+=`<img class="favorite_image" src="${favoriteShowsImages}" alt="${favoriteShowsTitles}"/>`,s+=`<h2 class="favorite_title">${favoriteShowsTitles}</h2>`,s+='<button class="favorite__delbtn js_favoritedelbtn"><i class="fas fa-times favorite__delbtn--icon"></i></button>',s+="</li>";favoriteShowsPainted.innerHTML=s}function handleListenedContainers(s){const e=s.currentTarget,t=e.querySelector(".js_showtitle"),o=parseInt(s.currentTarget.id),a=showsList.find(s=>s.show.id===o),i=favoriteShows.findIndex(s=>s.show.id===o);-1===i?(favoriteShows.push(a),e.classList.add("selected"),t.classList.add("text_color")):(favoriteShows.splice(i,1),e.classList.remove("selected"),t.classList.remove("text_color")),paintFavorites(),saveFavoritesInLocalStorage()}function saveFavoritesInLocalStorage(){const s=JSON.stringify(favoriteShows);localStorage.setItem("favoriteShows",s)}function listenShows(){const s=document.querySelectorAll(".js_showcontainer");for(listenedItem of s)listenedItem.addEventListener("click",handleListenedContainers)}function paintShows(){let s="";for(const e of showsList)showsImages=e.show.image,showsImages=null===showsImages?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":e.show.image.medium,showsTitles=e.show.name,showsId=e.show.id,s+=`<li class="show_container js_showcontainer"  id="${showsId}">`,s+=`<img class="image js_showimage" src="${showsImages}" alt="${showsTitles}"/>`,s+=`<h4 class="showtitle js_showtitle">${showsTitles}</h4>`,s+="</li>";showsPainted.innerHTML=s,listenShows()}function handleSearchShow(s){s.preventDefault();const e=searchText.value;fetch("//api.tvmaze.com/search/shows?q="+e).then(s=>s.json()).then(s=>{showsList=s,paintShows()})}function getFavoritesFromLocalStorage(){const s=localStorage.getItem("favoriteShows");if(null!==s){const e=JSON.parse(s);favoriteShows=e,paintFavorites()}}searchBtn.addEventListener("click",handleSearchShow),getFavoritesFromLocalStorage();